(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"4sbp":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));var n=a("o0o1"),s=a.n(n),r=a("1OyB"),o=a("vuIU"),u=a("ReuC"),l=a("Ji7U"),i=a("md7G"),c=a("foSv"),p=a("q1tI"),h=a.n(p),f=a("YFqc"),d=a.n(f),m=a("+ryr"),g=a("q+nx"),b=a("PQhJ"),x=a("CafY"),w=h.a.createElement;function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var s=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var j=function(e){Object(l.a)(a,e);var t=y(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return w(x.a,this.props,w("h1",{className:"display-2"},"Routing"),w("p",{className:"lead"},"Next.js handles routing automatically and is easy to extend."),w("p",null,"With Next.js, a request for the URL ",w("span",{className:"font-weight-bold"},"/example")," would be automatically handled by the page at ",w("span",{className:"font-weight-bold"},"./pages/example.js"),"."),w("p",null,"You don't need to set up routing manually, just create files and folders inside the ",w("span",{className:"font-weight-bold"},"./pages/")," directory."),w("p",null,"This project uses Next.js together with Express to extend and override the default behaviour and add custom routes."),w("h2",null,"Example"),w("p",null,"The default route for this page is ",w(d.a,{href:"/examples/routing"},w("a",null,"/examples/routing")),"."),w("p",null,"These routes also load this page, but have different URLs:"),w("ul",null,w("li",null,w(d.a,{href:"/examples/routing?id=example-one",as:"/custom-route/example-one"},w("a",null,"/custom-route/example-one"))),w("li",null,w(d.a,{href:"/examples/routing?id=example-two",as:"/custom-route/example-two"},w("a",null,"/custom-route/example-two")))),w("p",null,"Slug: ",this.props.slug?w("span",{className:"font-weight-bold"},this.props.slug):w("span",{className:"text-muted"},"None (default)")),w("p",null,"The value for the 'slug' is populated in ",w("span",{className:"font-weight-bold"},"getInitialProps()"),"."),w("p",null,"This behaviour can be combined with the ",w(d.a,{href:"/examples/async"},w("a",null,"Async"))," example to load different content on a page based on the current route."),w("h2",null,"Configuring Routes"),w("p",null,"We have a rule in ",w("a",{href:"https://github.com/iaincollins/nextjs-starter/blob/master/index.js"},"index.js")," that tells Express that any requests for ",w("span",{className:"font-weight-bold"},"/custom-route/","{","anything","}")," should be handled by the template ",w("a",{href:"https://github.com/iaincollins/nextjs-starter/blob/master/pages/examples/routing.js"},"pages/examples/routing.js"),", which is this page."),w(m.a,{style:g.atomDark,language:"javascript"},"express.get('/custom-route/:id', (req, res) => {\n  return app.render(req, res, '/examples/routing', req.params)\n})"),w("p",null,"The last route we configure in Express is a fallback that says all other routes should be handled by Next.js if no overriding routing behaviour is defined:"),w(m.a,{style:g.atomDark,language:"javascript"},"express.all('*', (req, res) => {\n  let nextRequestHandler = app.getRequestHandler()\n  return nextRequestHandler(req, res)\n})"),w("p",null,"Take a look at the source of ",w("a",{href:"https://github.com/iaincollins/nextjs-starter/blob/master/pages/examples/routing.js"},"this page")," and ",w("a",{href:"https://github.com/iaincollins/nextjs-starter/blob/master/index.js"},"index.js")," to see how to use <Link> with custom routes."),w("h2",null,"Other Approaches"),w("p",null,"If you just want to use custom routes without the other features offered by a framework like Express, there are a number of simpler routing options such as ",w("a",{href:"https://www.npmjs.com/package/next-routes"},"next-routes")," designed specifically for use with Next.js."),w("p",null,"You can use modules like next-routes in conjuction with express, although configuring routes in more than one way can make a project difficult to maintain."),w("h2",null,"Custom error pages"),w("p",null,"If you want to see how custom 404, 500 and other HTTP errors are handled take a look at ",w("a",{href:"https://github.com/iaincollins/nextjs-starter/blob/master/pages/_error.js"},"pages/_error.js"),"."))}}],[{key:"getInitialProps",value:function(e){var t,n,r;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.req,n=e.query,o.next=3,s.a.awrap(Object(u.a)(Object(c.a)(a),"getInitialProps",this).call(this,{req:t}));case 3:return(r=o.sent).slug=n.id,o.abrupt("return",r);case 6:case"end":return o.stop()}}),null,this,null,Promise)}}]),a}(b.a)},Lyuu:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/examples/routing",function(){return a("4sbp")}])},ReuC:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("foSv");function s(e,t,a){return(s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var s=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(n.a)(e)););return e}(e,t);if(s){var r=Object.getOwnPropertyDescriptor(s,t);return r.get?r.get.call(a):r.value}})(e,t,a||e)}}},[["Lyuu",1,2,7,4,0,3,5,6,8,10]]]);