(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{CafY:function(t,e,n){"use strict";n.d(e,"a",(function(){return R}));var a=n("o0o1"),s=n.n(a),i=n("1OyB"),r=n("JX7q"),o=n("vuIU"),l=n("Ji7U"),c=n("md7G"),u=n("foSv"),p=n("q1tI"),d=n.n(p),m=n("nOHt"),h=n.n(m),f=n("8Kt/"),b=n.n(f),v=n("YFqc"),g=n.n(v),y=n("xkgm"),j=n("aIRn"),O=n("nGE6"),x=n("9ONQ"),k=(n("kiQV"),n("zxz7")),w=n.n(k),N=d.a.createElement;function S(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(u.a)(t);if(e){var s=Object(u.a)(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var R=function(t){Object(l.a)(n,t);var e=S(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).state={navOpen:!1,modal:!1,providers:null},a.toggleModal=a.toggleModal.bind(Object(r.a)(a)),a}return Object(o.a)(n,null,[{key:"propTypes",value:function(){return{session:d.a.PropTypes.object.isRequired,providers:d.a.PropTypes.object.isRequired,children:d.a.PropTypes.object.isRequired,fluid:d.a.PropTypes.boolean,navmenu:d.a.PropTypes.boolean,signinBtn:d.a.PropTypes.boolean}}}]),Object(o.a)(n,[{key:"toggleModal",value:function(t){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),!0!==this.state.modal&&(new x.a).set("redirect_url",window.location.pathname,{path:"/"}),e.t0=this,e.t1=this.state.providers,e.t1){e.next=8;break}return e.next=7,s.a.awrap(O.NextAuth.providers());case 7:e.t1=e.sent;case 8:e.t2=e.t1,e.t3=!this.state.modal,e.t4={providers:e.t2,modal:e.t3},e.t0.setState.call(e.t0,e.t4);case 12:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){return N(d.a.Fragment,null,N(b.a,null,N("meta",{charSet:"UTF-8"}),N("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),N("link",{rel:"shortcut icon",href:"/static/favicon.ico"}),N("title",null,this.props.title||"Moneble"),N("style",{dangerouslySetInnerHTML:{__html:w.a}})),N(y.p,{light:!0,className:"navbar navbar-dark justify-content-between"},N(g.a,{prefetch:!0,href:"/"},N(y.q,{href:"/"},N("img",{src:"/static/logo.png",width:"30",height:"30",style:{marginTop:"-0.3em"}})," ","Moneble")),N(y.n,{className:"navbar-nav ml-auto"},N("li",{className:"nav-item"})),N(y.n,null,N(C,{session:this.props.session,toggleModal:this.toggleModal,signinBtn:this.props.signinBtn}))),N(T,{navmenu:this.props.navmenu,fluid:this.props.fluid,container:this.props.container},this.props.children,N("script",{type:"module",src:"https://unpkg.com/ionicons@5.0.0/dist/ionicons/ionicons.esm.js"}),N("script",{noModule:"",src:"https://unpkg.com/ionicons@5.0.0/dist/ionicons/ionicons.js"})),N(y.c,{className:"Footer",fluid:this.props.fluid},N("p",{className:"text-muted small",style:{paddingTop:"2em",maxWidth:"100vw",paddingLeft:"2em"}},N("a",{style:{color:"#ffffff",fontSize:"15px"},href:"mailto:info@moneble.co"},"\ud83d\udce7 info@moneble.co")),N("p",{className:"text-muted small",style:{maxWidth:"100vw",paddingBottom:"1em",paddingLeft:"2em"}},"moneble",N("span",{className:"ml-2"},"\xa9 ",(new Date).getYear()+1900,"."))),N(M,{modal:this.state.modal,toggleModal:this.toggleModal,session:this.props.session,providers:this.state.providers}))}}]),n}(d.a.Component),T=function(t){Object(l.a)(n,t);var e=S(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return!1===this.props.container?N(d.a.Fragment,null,this.props.children):!1===this.props.navmenu?N(y.c,{fluid:this.props.fluid,style:{marginTop:"1em"}},this.props.children):N(y.c,{fluid:this.props.fluid,style:{marginTop:"1em"}},N(y.r,null,N(y.b,{xs:"12",md:"9",lg:"10"},this.props.children),N(y.b,{xs:"12",md:"3",lg:"2",style:{paddingTop:"1em"}},N("h5",{className:"text-muted text-uppercase"},"Examples"),N(y.i,null,N(y.j,null,N(g.a,{prefetch:!0,href:"/examples/authentication"},N("a",{href:"/examples/authentication",className:"d-block"},"Auth"))),N(y.j,null,N(g.a,{prefetch:!0,href:"/examples/async"},N("a",{href:"/examples/async",className:"d-block"},"Async"))),N(y.j,null,N(g.a,{prefetch:!0,href:"/examples/layout"},N("a",{href:"/examples/layout",className:"d-block"},"Layout"))),N(y.j,null,N(g.a,{prefetch:!0,href:"/examples/routing"},N("a",{href:"/examples/routing",className:"d-block"},"Routing"))),N(y.j,null,N(g.a,{prefetch:!0,href:"/examples/styling"},N("a",{href:"/examples/styling",className:"d-block"},"Styling")))))))}}]),n}(d.a.Component),C=function(t){Object(l.a)(n,t);var e=S(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).handleSignoutSubmit=a.handleSignoutSubmit.bind(Object(r.a)(a)),a}return Object(o.a)(n,[{key:"handleSignoutSubmit",value:function(t){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(new x.a).set("redirect_url",window.location.pathname,{path:"/"}),e.next=5,s.a.awrap(O.NextAuth.signout());case 5:h.a.push("/");case 6:case"end":return e.stop()}}),null,null,null,Promise)}},{key:"render",value:function(){if(this.props.session&&this.props.session.user){var t=this.props.session;return N("div",{tabIndex:"2",className:"dropdown nojs-dropdown",style:{color:"black"}},N("div",{className:"nav-item"},N("span",{className:"dropdown-toggle nav-link d-none d-md-block"},N("span",{className:"icon ion-md-contact",style:{fontSize:"2em",position:"absolute",top:-5,left:-25}})),N("span",{className:"dropdown-toggle nav-link d-block d-md-none"},N("span",{className:"icon ion-md-contact mr-2"}),t.user.name||t.user.email)),N("div",{className:"dropdown-menu"},N(g.a,{prefetch:!0,href:"/account"},N("a",{href:"/account",className:"dropdown-item"},N("span",{className:"icon ion-md-person mr-1"})," Your Account")),N(P,this.props),N("div",{className:"dropdown-divider d-none d-md-block"}),N("div",{className:"dropdown-item p-0"},N(y.d,{id:"signout",method:"post",action:"/auth/signout",onSubmit:this.handleSignoutSubmit},N("input",{name:"_csrf",type:"hidden",value:this.props.session.csrfToken}),N(y.a,{type:"submit",block:!0,className:"pl-4 rounded-0 text-left dropdown-item"},N("span",{className:"icon ion-md-log-out mr-1"})," Sign out")))))}return!1===this.props.signinBtn?null:N(y.o,null,N("a",{href:"/auth?redirect=/",className:"btn btn-outline-secondary",onClick:this.props.toggleModal},"\ud83c\udfac  Sign in"))}}]),n}(d.a.Component),P=function(t){Object(l.a)(n,t);var e=S(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return this.props.session.user&&!0===this.props.session.user.admin?N(d.a.Fragment,null,N(g.a,{prefetch:!0,href:"/admin"},N("a",{href:"/admin",className:"dropdown-item"},N("span",{className:"icon ion-md-settings mr-1"})," Admin"))):N("div",null)}}]),n}(d.a.Component),M=function(t){Object(l.a)(n,t);var e=S(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return null===this.props.providers?null:N(y.k,{isOpen:this.props.modal,toggle:this.props.toggleModal,style:{marginTop:"2vh",maxWidth:700}},N(y.m,null,"Sign in"),N(y.l,{style:{padding:"1em 2em"}},N(j.a,{session:this.props.session,providers:this.props.providers})))}}]),n}(d.a.Component)},PQhJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("o0o1"),s=n.n(a),i=n("wx14"),r=n("1OyB"),o=n("vuIU"),l=n("Ji7U"),c=n("md7G"),u=n("foSv"),p=n("q1tI"),d=n.n(p),m=n("CafY"),h=n("nGE6"),f=d.a.createElement;function b(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(u.a)(t);if(e){var s=Object(u.a)(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var v=function(t){Object(l.a)(n,t);var e=b(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"adminAccessOnly",value:function(){return f(m.a,Object(i.a)({},this.props,{navmenu:!1}),f("div",{className:"text-center pt-5 pb-5"},f("h1",{className:"display-4 mb-5"},"Access Denied"),f("p",{className:"lead"},"You must be signed in as an administrator to access this page.")))}}],[{key:"getInitialProps",value:function(t){var e;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.req,n.next=3,s.a.awrap(h.NextAuth.init({req:e}));case 3:return n.t0=n.sent,n.abrupt("return",{session:n.t0,lang:"en"});case 5:case"end":return n.stop()}}),null,null,null,Promise)}}]),n}(d.a.Component)},aIRn:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var a=n("1OyB"),s=n("vuIU"),i=n("JX7q"),r=n("Ji7U"),o=n("md7G"),l=n("foSv"),c=n("q1tI"),u=n.n(c),p=n("nOHt"),d=n.n(p),m=n("xkgm"),h=n("9ONQ"),f=n("nGE6"),b=u.a.createElement;function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(l.a)(t);if(e){var s=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return Object(o.a)(this,n)}}var g=function(t){Object(r.a)(n,t);var e=v(n);function n(t){var s;return Object(a.a)(this,n),(s=e.call(this,t)).state={email:"",session:s.props.session,providers:s.props.providers,submitting:!1},s.handleSubmit=s.handleSubmit.bind(Object(i.a)(s)),s.handleEmailChange=s.handleEmailChange.bind(Object(i.a)(s)),s}return Object(s.a)(n,[{key:"handleEmailChange",value:function(t){this.setState({email:t.target.value.trim()})}},{key:"handleSubmit",value:function(t){var e=this;(t.preventDefault(),this.state.email)&&(this.setState({submitting:!0}),(new h.a).set("redirect_url",window.location.pathname,{path:"/"}),f.NextAuth.signin(this.state.email).then((function(){d.a.push("/auth/check-email?email=".concat(e.state.email))})).catch((function(t){d.a.push("/auth/error?action=signin&type=email&email=".concat(e.state.email))})))}},{key:"render",value:function(){return this.props.session.user?b("div",null):b(u.a.Fragment,null,b("p",{className:"text-center",style:{marginTop:10,marginBottom:30}},"If you don't have an account, one will be created when you sign in."),b(m.r,null,b(m.b,{xs:12,md:6},b(y,{providers:this.props.providers})),b(m.b,{xs:12,md:6},b(m.d,{id:"signin",method:"post",action:"/auth/email/signin",onSubmit:this.handleSubmit},b(m.f,{name:"_csrf",type:"hidden",value:this.state.session.csrfToken}),b("p",null,b(m.h,{htmlFor:"email"},"Email address"),b("br",null),b(m.f,{name:"email",disabled:this.state.submitting,type:"text",placeholder:"a.v.d.stappen@example.com",id:"email",className:"form-control",value:this.state.email,onChange:this.handleEmailChange})),b("p",{className:"text-right"},b(m.a,{id:"submitButton",disabled:this.state.submitting,outline:!0,color:"dark",type:"submit"},!0===this.state.submitting&&b("span",{className:"icon icon-spin ion-md-refresh mr-2"}),"Sign in with email"))))))}}]),n}(u.a.Component),y=function(t){Object(r.a)(n,t);var e=v(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this;return b(u.a.Fragment,null,Object.keys(this.props.providers).map((function(e,n){return t.props.providers[e].signin?b("p",{key:n},b("a",{className:"btn btn-block btn-outline-secondary",href:t.props.providers[e].signin},"Sign in with ",e)):null})))}}]),n}(u.a.Component)},kiQV:function(t){t.exports=JSON.parse("{}")},wx14:function(t,e,n){"use strict";function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return a}))}}]);